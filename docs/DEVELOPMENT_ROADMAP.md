# MindCode å¼€å‘è·¯çº¿å›¾

> ç‰ˆæœ¬ï¼šv1.0 | æ›´æ–°æ—¥æœŸï¼š2026-01-27  
> ç›®æ ‡ï¼šæ‰“é€  Cursor çº§åˆ«çš„ AI åŸç”Ÿ IDE

---

## ä¸€ã€é¡¹ç›®ç°çŠ¶è¯„ä¼°

### 1.1 å½“å‰å®Œæˆåº¦ï¼š85%

| æ¨¡å— | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|------|
| åŸºç¡€ç¼–è¾‘å™¨ | 95% | âœ… Monaco Editor å®Œæ•´é›†æˆ |
| æ–‡ä»¶ç®¡ç† | 95% | âœ… æ–‡ä»¶æ ‘ã€å³é”®èœå•ã€æœç´¢ |
| ç»ˆç«¯é›†æˆ | 90% | âœ… å‘½ä»¤æ‰§è¡Œã€å†å²ã€å†…ç½®å‘½ä»¤ |
| Git é›†æˆ | 90% | âœ… çŠ¶æ€ã€æš‚å­˜ã€æäº¤ã€åˆ†æ”¯ã€Diff |
| AI èŠå¤© | 95% | âœ… æµå¼å“åº”ã€å¤šæ¨¡å‹ã€å·¥å…·è°ƒç”¨ |
| ä»£ç è¡¥å…¨ | 80% | âœ… åç«¯å®Œæˆï¼ŒGhost Text å·²é›†æˆ |
| è®¾ç½®é¢æ¿ | 85% | âœ… AIã€ç¼–è¾‘å™¨ã€å¤–è§‚ã€å¿«æ·é”® |
| Thinking UI | 100% | âœ… Cursor é£æ ¼æ€è€ƒè¿‡ç¨‹å¯è§†åŒ– |

### 1.2 ä¸ Cursor çš„å·®è·

| åŠŸèƒ½ | Cursor | MindCode | å·®è· |
|------|--------|----------|------|
| Apply Changes | âœ… ä¸€é”®åº”ç”¨ä»£ç  | âŒ æ—  | ğŸ”´ å…³é”®ç¼ºå¤± |
| Diff é¢„è§ˆ | âœ… ä¿®æ”¹å¯¹æ¯” | âŒ æ—  | ğŸ”´ å…³é”®ç¼ºå¤± |
| Inline Edit (Ctrl+K) | âœ… é€‰ä¸­ç¼–è¾‘ | âš ï¸ åŸºç¡€ç‰ˆ | ğŸŸ¡ éœ€å¢å¼º |
| å¤šæ–‡ä»¶ç¼–è¾‘ | âœ… Agent æ‰¹é‡ä¿®æ”¹ | âŒ æ—  | ğŸ”´ å…³é”®ç¼ºå¤± |
| Composer | âœ… é¡¹ç›®çº§é‡æ„ | âŒ æ—  | ğŸŸ¡ ä¸­æœŸç›®æ ‡ |
| ä»£ç ç´¢å¼• | âœ… è¯­ä¹‰æœç´¢ | âŒ æ—  | ğŸŸ¡ ä¸­æœŸç›®æ ‡ |
| é¡¹ç›®è§„åˆ™ | âœ… .cursor/rules | âŒ æ—  | ğŸŸ¢ ç®€å•å®ç° |
| LSP æ”¯æŒ | âœ… å®Œæ•´ | âŒ æ—  | ğŸŸ¢ é•¿æœŸç›®æ ‡ |

---

## äºŒã€å¼€å‘é˜¶æ®µè§„åˆ’

### Phase 1: Apply Changes + Diff é¢„è§ˆ
**ç›®æ ‡**ï¼šè®© AI ç”Ÿæˆçš„ä»£ç å¯ä»¥ä¸€é”®åº”ç”¨åˆ°ç¼–è¾‘å™¨  
**é¢„ä¼°æ—¶é—´**ï¼š3-5 å¤©

#### 1.1 ApplyCodeBlock ç»„ä»¶
- [ ] è§£æ AI è¿”å›çš„ä»£ç å—ï¼ˆå«æ–‡ä»¶è·¯å¾„ï¼‰
- [ ] "Apply" æŒ‰é’® UI
- [ ] åº”ç”¨ä»£ç åˆ°ç¼–è¾‘å™¨

#### 1.2 Diff é¢„è§ˆç»„ä»¶
- [ ] ä½¿ç”¨ Monaco DiffEditor
- [ ] æ˜¾ç¤º åŸå§‹ä»£ç  vs AI ä¿®æ”¹
- [ ] æ¥å— / æ‹’ç» / ç¼–è¾‘ æŒ‰é’®

#### 1.3 é›†æˆåˆ° AssistantMessage
- [ ] ä»£ç å—è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶è·¯å¾„
- [ ] æ·»åŠ  Apply æŒ‰é’®
- [ ] åº”ç”¨å‰å¼¹å‡º Diff é¢„è§ˆ

#### 1.4 æ–‡ä»¶å…³è”
- [ ] ä»£ç å—ç»‘å®šç›®æ ‡æ–‡ä»¶
- [ ] æ”¯æŒæ–°å»ºæ–‡ä»¶
- [ ] æ”¯æŒä¿®æ”¹ç°æœ‰æ–‡ä»¶

---

### Phase 2: Inline Edit å¢å¼º
**ç›®æ ‡**ï¼šå®ç° Cursor çº§åˆ«çš„ Ctrl+K å†…è”ç¼–è¾‘  
**é¢„ä¼°æ—¶é—´**ï¼š3-5 å¤©

#### 2.1 é€‰ä¸­ä»£ç ç¼–è¾‘
- [ ] é€‰ä¸­ä»£ç åè§¦å‘ Ctrl+K
- [ ] å¼¹å‡ºç¼–è¾‘æŒ‡ä»¤è¾“å…¥æ¡†
- [ ] å‘é€é€‰ä¸­ä»£ç  + æŒ‡ä»¤åˆ° AI

#### 2.2 Inline Diff é¢„è§ˆ
- [ ] åœ¨ç¼–è¾‘å™¨å†…æ˜¾ç¤ºä¿®æ”¹å»ºè®®
- [ ] ç»¿è‰²/çº¢è‰²é«˜äº®å·®å¼‚
- [ ] Tab æ¥å— / Escape æ‹’ç»

#### 2.3 å¤šå…‰æ ‡æ”¯æŒ
- [ ] æ”¯æŒå¤šä¸ªé€‰åŒºåŒæ—¶ç¼–è¾‘
- [ ] æ‰¹é‡åº”ç”¨ç›¸åŒä¿®æ”¹

---

### Phase 3: å¤šæ–‡ä»¶ç¼–è¾‘
**ç›®æ ‡**ï¼šAgent æ¨¡å¼æ”¯æŒæ‰¹é‡ä¿®æ”¹å¤šä¸ªæ–‡ä»¶  
**é¢„ä¼°æ—¶é—´**ï¼š5-7 å¤©

#### 3.1 MultiFileChanges ç»„ä»¶
- [ ] æ˜¾ç¤ºå¾…ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨
- [ ] æ¯ä¸ªæ–‡ä»¶ç‹¬ç«‹ Diff é¢„è§ˆ
- [ ] æ‰¹é‡æ¥å—/æ‹’ç»

#### 3.2 Agent å·¥å…·å¢å¼º
- [ ] workspace_writeMultipleFiles å·¥å…·
- [ ] ä¿®æ”¹è®¡åˆ’ç”Ÿæˆ
- [ ] æ‰§è¡Œè¿›åº¦è·Ÿè¸ª

#### 3.3 å˜æ›´ç®¡ç†
- [ ] å¾…åº”ç”¨å˜æ›´é˜Ÿåˆ—
- [ ] æ’¤é”€/é‡åšæ”¯æŒ
- [ ] å†²çªæ£€æµ‹

---

### Phase 4: é¡¹ç›®è§„åˆ™
**ç›®æ ‡**ï¼šæ”¯æŒ .mindcode/rules é¡¹ç›®é…ç½®  
**é¢„ä¼°æ—¶é—´**ï¼š1-2 å¤©

#### 4.1 è§„åˆ™æ–‡ä»¶è§£æ
- [ ] è¯»å– .mindcode/rules/*.md
- [ ] è§£æè§„åˆ™æ ¼å¼
- [ ] æ³¨å…¥åˆ°ç³»ç»Ÿæç¤ºè¯

#### 4.2 è§„åˆ™ç®¡ç† UI
- [ ] è§„åˆ™åˆ—è¡¨æ˜¾ç¤º
- [ ] æ–°å»º/ç¼–è¾‘/åˆ é™¤è§„åˆ™
- [ ] è§„åˆ™ä¼˜å…ˆçº§

---

### Phase 5: ä»£ç ç´¢å¼•
**ç›®æ ‡**ï¼šå®ç°é¡¹ç›®ä»£ç è¯­ä¹‰æœç´¢  
**é¢„ä¼°æ—¶é—´**ï¼š5-7 å¤©

#### 5.1 ä»£ç è§£æå™¨
- [ ] AST è§£æï¼ˆTypeScriptã€Pythonã€Go ç­‰ï¼‰
- [ ] æå–ç¬¦å·ï¼ˆå‡½æ•°ã€ç±»ã€å˜é‡ï¼‰
- [ ] ç”Ÿæˆä»£ç ç‰‡æ®µ

#### 5.2 å‘é‡ç´¢å¼•
- [ ] ä»£ç åµŒå…¥ï¼ˆOpenAI Embeddings / æœ¬åœ°æ¨¡å‹ï¼‰
- [ ] å‘é‡å­˜å‚¨ï¼ˆSQLite + JSONï¼‰
- [ ] è¯­ä¹‰æœç´¢ API

#### 5.3 @codebase å¢å¼º
- [ ] ä½¿ç”¨ç´¢å¼•æ‰¾ç›¸å…³ä»£ç 
- [ ] è‡ªåŠ¨æ”¶é›†ä¸Šä¸‹æ–‡
- [ ] ç›¸å…³æ€§æ’åº

---

### Phase 6: Composer
**ç›®æ ‡**ï¼šé¡¹ç›®çº§å¤šæ–‡ä»¶é‡æ„ç•Œé¢  
**é¢„ä¼°æ—¶é—´**ï¼š7-10 å¤©

#### 6.1 Composer é¢æ¿
- [ ] ç‹¬ç«‹çª—å£/é¢æ¿ UI
- [ ] éœ€æ±‚è¾“å…¥æ¡†
- [ ] é¡¹ç›®åˆ†æç»“æœæ˜¾ç¤º

#### 6.2 é‡æ„è®¡åˆ’
- [ ] AI ç”Ÿæˆä¿®æ”¹è®¡åˆ’
- [ ] æ–‡ä»¶å½±å“åˆ†æ
- [ ] æ­¥éª¤é¢„è§ˆ

#### 6.3 æ‰¹é‡æ‰§è¡Œ
- [ ] æŒ‰è®¡åˆ’æ‰§è¡Œä¿®æ”¹
- [ ] è¿›åº¦è·Ÿè¸ª
- [ ] é”™è¯¯å›æ»š

---

## ä¸‰ã€è¯¦ç»†ä»»åŠ¡åˆ†è§£

### Phase 1 ä»»åŠ¡åˆ—è¡¨

| ID | ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° | ä¾èµ– |
|----|------|--------|------|------|
| P1-01 | åˆ›å»º ApplyCodeBlock ç»„ä»¶ | ğŸ”´ é«˜ | 2h | - |
| P1-02 | è§£æä»£ç å—æ–‡ä»¶è·¯å¾„ | ğŸ”´ é«˜ | 1h | P1-01 |
| P1-03 | å®ç° Apply æŒ‰é’®é€»è¾‘ | ğŸ”´ é«˜ | 2h | P1-02 |
| P1-04 | åˆ›å»º DiffPreview ç»„ä»¶ | ğŸ”´ é«˜ | 3h | - |
| P1-05 | é›†æˆ Monaco DiffEditor | ğŸ”´ é«˜ | 2h | P1-04 |
| P1-06 | å®ç°æ¥å—/æ‹’ç»é€»è¾‘ | ğŸ”´ é«˜ | 2h | P1-05 |
| P1-07 | æ›´æ–° CodeBlock ç»„ä»¶ | ğŸŸ¡ ä¸­ | 2h | P1-03 |
| P1-08 | æ›´æ–° AssistantMessage | ğŸŸ¡ ä¸­ | 1h | P1-07 |
| P1-09 | æ·»åŠ æ–°å»ºæ–‡ä»¶æ”¯æŒ | ğŸŸ¡ ä¸­ | 2h | P1-06 |
| P1-10 | æµ‹è¯•å’Œä¼˜åŒ– | ğŸŸ¢ ä½ | 2h | å…¨éƒ¨ |

### Phase 2 ä»»åŠ¡åˆ—è¡¨

| ID | ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° | ä¾èµ– |
|----|------|--------|------|------|
| P2-01 | å¢å¼º InlineEditWidget | ğŸ”´ é«˜ | 3h | Phase 1 |
| P2-02 | å®ç°é€‰ä¸­ä»£ç å‘é€ | ğŸ”´ é«˜ | 2h | P2-01 |
| P2-03 | åˆ›å»º InlineDiff ç»„ä»¶ | ğŸ”´ é«˜ | 4h | P2-02 |
| P2-04 | å®ç° Tab/Escape äº¤äº’ | ğŸ”´ é«˜ | 2h | P2-03 |
| P2-05 | Monaco è£…é¥°å™¨é›†æˆ | ğŸŸ¡ ä¸­ | 3h | P2-04 |
| P2-06 | å¤šå…‰æ ‡æ”¯æŒ | ğŸŸ¢ ä½ | 3h | P2-05 |
| P2-07 | æµ‹è¯•å’Œä¼˜åŒ– | ğŸŸ¢ ä½ | 2h | å…¨éƒ¨ |

### Phase 3 ä»»åŠ¡åˆ—è¡¨

| ID | ä»»åŠ¡ | ä¼˜å…ˆçº§ | é¢„ä¼° | ä¾èµ– |
|----|------|--------|------|------|
| P3-01 | åˆ›å»º MultiFileChanges ç»„ä»¶ | ğŸ”´ é«˜ | 4h | Phase 1 |
| P3-02 | æ–‡ä»¶å˜æ›´æ•°æ®ç»“æ„ | ğŸ”´ é«˜ | 2h | P3-01 |
| P3-03 | æ‰¹é‡ Diff é¢„è§ˆ | ğŸ”´ é«˜ | 4h | P3-02 |
| P3-04 | æ¥å—/æ‹’ç»/å…¨éƒ¨æ¥å— | ğŸ”´ é«˜ | 3h | P3-03 |
| P3-05 | æ–°å¢ writeMultipleFiles å·¥å…· | ğŸŸ¡ ä¸­ | 3h | P3-04 |
| P3-06 | Agent æ¨¡å¼é›†æˆ | ğŸŸ¡ ä¸­ | 4h | P3-05 |
| P3-07 | å˜æ›´é˜Ÿåˆ—ç®¡ç† | ğŸŸ¡ ä¸­ | 3h | P3-06 |
| P3-08 | æ’¤é”€/é‡åšæ”¯æŒ | ğŸŸ¢ ä½ | 4h | P3-07 |
| P3-09 | æµ‹è¯•å’Œä¼˜åŒ– | ğŸŸ¢ ä½ | 3h | å…¨éƒ¨ |

---

## å››ã€æŠ€æœ¯æ–¹æ¡ˆ

### 4.1 Apply Changes æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AssistantMessage                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CodeBlock (with Apply)                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ ä»£ç å†…å®¹         â”‚  â”‚ [Copy] [Apply]      â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼ ç‚¹å‡» Apply
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DiffPreview Modal                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Monaco DiffEditor                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚ â”‚
â”‚  â”‚  â”‚ åŸå§‹ä»£ç      â”‚  â”‚ ä¿®æ”¹åä»£ç    â”‚            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [å–æ¶ˆ]                    [æ‹’ç»] [æ¥å—å¹¶åº”ç”¨]   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 æ–‡ä»¶è·¯å¾„æ£€æµ‹è§„åˆ™

```typescript
// æ£€æµ‹ä»£ç å—å…³è”çš„æ–‡ä»¶è·¯å¾„
function detectFilePath(codeBlock: string, context: string): string | null {
  // 1. æ£€æŸ¥ä»£ç å—è¯­è¨€æ ‡ç­¾åçš„è·¯å¾„
  //    ```typescript:src/utils/helper.ts
  const langPathMatch = codeBlock.match(/```(\w+):([^\n]+)/);
  if (langPathMatch) return langPathMatch[2];
  
  // 2. æ£€æŸ¥ä¸Šæ–‡æåŠçš„æ–‡ä»¶è·¯å¾„
  //    "ä¿®æ”¹ src/App.tsx æ–‡ä»¶ï¼š"
  const mentionMatch = context.match(/(?:ä¿®æ”¹|æ›´æ–°|åˆ›å»º|ç¼–è¾‘)\s+[`"]?([^\s`"]+\.\w+)[`"]?/);
  if (mentionMatch) return mentionMatch[1];
  
  // 3. æ£€æŸ¥ä»£ç å—ä¸Šæ–¹çš„æ–‡ä»¶è·¯å¾„æ³¨é‡Š
  //    // src/App.tsx
  const commentMatch = codeBlock.match(/^\/\/\s*([^\n]+\.\w+)/);
  if (commentMatch) return commentMatch[1];
  
  return null; // æœªæ£€æµ‹åˆ°è·¯å¾„
}
```

### 4.3 Diff åº”ç”¨é€»è¾‘

```typescript
interface PendingChange {
  id: string;
  filePath: string;
  originalContent: string;
  newContent: string;
  status: 'pending' | 'applied' | 'rejected';
}

async function applyChange(change: PendingChange): Promise<boolean> {
  // 1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
  const exists = await fs.exists(change.filePath);
  
  // 2. å¦‚æœä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶
  if (!exists) {
    await fs.writeFile(change.filePath, change.newContent);
    return true;
  }
  
  // 3. å¦‚æœå­˜åœ¨ï¼Œè¯»å–å½“å‰å†…å®¹
  const current = await fs.readFile(change.filePath);
  
  // 4. æ£€æŸ¥æ˜¯å¦æœ‰å†²çªï¼ˆåŸå§‹å†…å®¹æ˜¯å¦åŒ¹é…ï¼‰
  if (current !== change.originalContent) {
    // å†…å®¹å·²å˜æ›´ï¼Œéœ€è¦æ‰‹åŠ¨åˆå¹¶
    throw new ConflictError('æ–‡ä»¶å·²è¢«ä¿®æ”¹');
  }
  
  // 5. åº”ç”¨ä¿®æ”¹
  await fs.writeFile(change.filePath, change.newContent);
  return true;
}
```

---

## äº”ã€éªŒæ”¶æ ‡å‡†

### Phase 1 éªŒæ”¶æ ‡å‡†
- [ ] AI è¿”å›ä»£ç å—æ—¶ï¼Œæ˜¾ç¤º Apply æŒ‰é’®
- [ ] ç‚¹å‡» Apply å¼¹å‡º Diff é¢„è§ˆ
- [ ] Diff é¢„è§ˆæ­£ç¡®æ˜¾ç¤ºæ–°æ—§å¯¹æ¯”
- [ ] æ¥å—åä»£ç æ­£ç¡®å†™å…¥æ–‡ä»¶
- [ ] æ‹’ç»åä¸åšä»»ä½•ä¿®æ”¹
- [ ] æ”¯æŒæ–°å»ºæ–‡ä»¶
- [ ] æ”¯æŒä¿®æ”¹ç°æœ‰æ–‡ä»¶

### Phase 2 éªŒæ”¶æ ‡å‡†
- [ ] Ctrl+K åœ¨é€‰ä¸­ä»£ç æ—¶å¼¹å‡ºç¼–è¾‘æ¡†
- [ ] è¾“å…¥æŒ‡ä»¤åå‘é€åˆ° AI
- [ ] AI è¿”å›åæ˜¾ç¤º Inline Diff
- [ ] Tab æ¥å—ä¿®æ”¹
- [ ] Escape æ‹’ç»ä¿®æ”¹
- [ ] ä¿®æ”¹æ­£ç¡®åº”ç”¨åˆ°ç¼–è¾‘å™¨

### Phase 3 éªŒæ”¶æ ‡å‡†
- [ ] Agent æ¨¡å¼å¯ä»¥ä¿®æ”¹å¤šä¸ªæ–‡ä»¶
- [ ] æ˜¾ç¤ºæ‰€æœ‰å¾…ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨
- [ ] æ¯ä¸ªæ–‡ä»¶å¯ç‹¬ç«‹é¢„è§ˆ Diff
- [ ] æ”¯æŒæ‰¹é‡æ¥å—/æ‹’ç»
- [ ] ä¿®æ”¹æ­£ç¡®åº”ç”¨åˆ°æ‰€æœ‰æ–‡ä»¶

---

## å…­ã€é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | ç›®æ ‡ | é¢„è®¡å®Œæˆ |
|--------|------|----------|
| M1 | Phase 1 å®Œæˆ - Apply Changes | Week 1 |
| M2 | Phase 2 å®Œæˆ - Inline Edit | Week 2 |
| M3 | Phase 3 å®Œæˆ - å¤šæ–‡ä»¶ç¼–è¾‘ | Week 3-4 |
| M4 | Phase 4 å®Œæˆ - é¡¹ç›®è§„åˆ™ | Week 4 |
| M5 | Phase 5 å®Œæˆ - ä»£ç ç´¢å¼• | Week 5-6 |
| M6 | Phase 6 å®Œæˆ - Composer | Week 7-8 |
| **v1.0 å‘å¸ƒ** | åŠŸèƒ½å®Œæ•´çš„ Cursor æ›¿ä»£å“ | Week 8 |

---

## ä¸ƒã€é£é™©è¯„ä¼°

| é£é™© | å½±å“ | å¯èƒ½æ€§ | ç¼“è§£æªæ–½ |
|------|------|--------|----------|
| Monaco DiffEditor é›†æˆå›°éš¾ | ğŸ”´ é«˜ | ğŸŸ¡ ä¸­ | æå‰è°ƒç ” APIï¼Œå‡†å¤‡å¤‡é€‰æ–¹æ¡ˆ |
| ä»£ç å—è·¯å¾„æ£€æµ‹ä¸å‡†ç¡® | ğŸŸ¡ ä¸­ | ğŸ”´ é«˜ | æ”¯æŒæ‰‹åŠ¨æŒ‡å®šè·¯å¾„ |
| å‘é‡ç´¢å¼•æ€§èƒ½é—®é¢˜ | ğŸŸ¡ ä¸­ | ğŸŸ¡ ä¸­ | å¢é‡ç´¢å¼•ï¼Œåå°å¤„ç† |
| å¤šæ–‡ä»¶å†²çªå¤„ç†å¤æ‚ | ğŸ”´ é«˜ | ğŸŸ¡ ä¸­ | ä¿å®ˆç­–ç•¥ï¼Œæç¤ºç”¨æˆ·æ‰‹åŠ¨åˆå¹¶ |

---

## å…«ã€æ‰§è¡Œè¿›åº¦

### Phase 1: Apply Changes + Diff é¢„è§ˆ âœ… å·²å®Œæˆ
- [x] ApplyCodeBlock ç»„ä»¶
- [x] ä»£ç å—æ–‡ä»¶è·¯å¾„æ£€æµ‹
- [x] Apply æŒ‰é’®é€»è¾‘
- [x] DiffPreview ç»„ä»¶ï¼ˆMonaco DiffEditorï¼‰
- [x] æ¥å—/æ‹’ç»é€»è¾‘
- [x] æ–°å»ºæ–‡ä»¶æ”¯æŒ

**æ–°å¢æ–‡ä»¶ï¼š**
- `src/renderer/components/AIPanel/DiffPreview.tsx`
- `src/renderer/components/AIPanel/DiffPreview.css`
- `src/renderer/components/AIPanel/utils/applyService.ts`
- `src/renderer/components/AIPanel/hooks/useApplyCode.ts`

### Phase 2: Inline Edit å¢å¼º âœ… å·²å®Œæˆ
- [x] å¢å¼º InlineEditWidget
- [x] Inline Diff é¢„è§ˆ
- [x] Tab/Escape å¿«æ·é”®
- [x] ç»¿è‰²/çº¢è‰²é«˜äº®å·®å¼‚

**ä¿®æ”¹æ–‡ä»¶ï¼š**
- `src/renderer/components/InlineEditWidget.tsx`
- `src/renderer/styles/components.css`

### Phase 3: å¤šæ–‡ä»¶ç¼–è¾‘ âœ… å·²å®Œæˆ
- [x] MultiFileChanges ç»„ä»¶
- [x] FileChange æ•°æ®ç»“æ„
- [x] æ‰¹é‡ Diff é¢„è§ˆ
- [x] æ¥å—/æ‹’ç»/å…¨éƒ¨æ¥å—

**æ–°å¢æ–‡ä»¶ï¼š**
- `src/renderer/components/AIPanel/MultiFileChanges.tsx`
- `src/renderer/components/AIPanel/MultiFileChanges.css`
- `src/renderer/components/AIPanel/hooks/useMultiFileChanges.ts`

### Phase 4: é¡¹ç›®è§„åˆ™ âœ… å·²å®Œæˆ
- [x] è§„åˆ™æ–‡ä»¶è§£æ (.mindcode/rules/*.md)
- [x] è§„åˆ™æ³¨å…¥ç³»ç»Ÿæç¤ºè¯
- [x] useProjectRules Hook

**æ–°å¢æ–‡ä»¶ï¼š**
- `src/renderer/services/rulesService.ts`
- `src/renderer/hooks/useProjectRules.ts`

### Phase 5: ä»£ç ç´¢å¼• â³ å¾…å¼€å§‹
### Phase 6: Composer â³ å¾…å¼€å§‹

---

## ä¹ã€ä¸‹ä¸€æ­¥è®¡åˆ’

ç»§ç»­å®æ–½ Phase 5 (ä»£ç ç´¢å¼•) å’Œ Phase 6 (Composer)ï¼Œæˆ–æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´ä¼˜å…ˆçº§ã€‚

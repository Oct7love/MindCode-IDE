/* MindCode - Markdown 渲染样式 (Cursor-like) */

.markdown-content {
  font-size: var(--chat-font-size-base, 13px);
  line-height: var(--chat-line-height, 1.6);
  color: var(--chat-text-primary, #e0e0e0);
  word-wrap: break-word;
}

/* === 段落与标题 === */
.md-paragraph { margin: 0 0 var(--chat-spacing-sm, 8px) 0; }
.md-paragraph:last-child { margin-bottom: 0; }

.md-heading { margin: var(--chat-spacing-lg, 16px) 0 var(--chat-spacing-sm, 8px) 0; font-weight: 600; color: var(--chat-text-primary, #e0e0e0); }
h1.md-heading { font-size: 1.4em; }
h2.md-heading { font-size: 1.25em; }
h3.md-heading { font-size: 1.1em; }
h4.md-heading, h5.md-heading, h6.md-heading { font-size: 1em; }

/* === 列表 === */
.md-list {
  margin: var(--chat-spacing-sm, 8px) 0;
  padding-left: var(--chat-spacing-xl, 24px);
}
.md-list li { margin: var(--chat-spacing-xs, 4px) 0; }
.md-list li::marker { color: var(--chat-text-secondary, #a0a0a0); }

/* === 引用块 === */
.md-blockquote {
  margin: var(--chat-spacing-md, 12px) 0;
  padding: var(--chat-spacing-sm, 8px) var(--chat-spacing-md, 12px);
  border-left: 3px solid var(--chat-accent, #0078d4);
  background: var(--chat-bg-tertiary, #2d2d30);
  border-radius: 0 var(--chat-radius-sm, 4px) var(--chat-radius-sm, 4px) 0;
  color: var(--chat-text-secondary, #a0a0a0);
  font-style: italic;
}

/* === 分割线 === */
.md-hr {
  border: none;
  border-top: 1px solid var(--chat-border, #3c3c3c);
  margin: var(--chat-spacing-lg, 16px) 0;
}

/* === 链接 === */
.md-link {
  color: var(--chat-accent, #0078d4);
  text-decoration: none;
  transition: color var(--chat-transition-fast, 100ms);
}
.md-link:hover { color: var(--chat-accent-hover, #1a8ae6); text-decoration: underline; }

/* === 内联代码 === */
.inline-code {
  font-family: var(--chat-font-mono, 'JetBrains Mono', monospace);
  font-size: 0.9em;
  padding: 2px 6px;
  background: var(--chat-code-bg, #1a1a1a);
  border: 1px solid var(--chat-code-border, #333);
  border-radius: var(--chat-radius-sm, 4px);
  color: var(--chat-callout-error-text, #ff6b6b);
}

/* === 代码块 === */
.code-block {
  margin: var(--chat-block-gap, 12px) 0;
  border-radius: var(--chat-radius-lg, 8px);
  border: 1px solid var(--chat-code-border, #333);
  overflow: hidden;
  font-family: var(--chat-font-mono, 'JetBrains Mono', monospace);
  font-size: var(--chat-font-size-code, 12px);
  background: var(--chat-code-bg, #1a1a1a);
}

.code-block-header {
  display: flex;
  align-items: center;
  gap: var(--chat-spacing-sm, 8px);
  padding: var(--chat-spacing-sm, 8px) var(--chat-spacing-md, 12px);
  background: var(--chat-code-header, #252526);
  border-bottom: 1px solid var(--chat-code-border, #333);
}
.code-block-lang {
  font-size: var(--chat-font-size-xs, 11px);
  color: var(--chat-text-secondary, #a0a0a0);
  text-transform: uppercase;
  font-weight: 500;
  letter-spacing: 0.5px;
}
.code-block-filename {
  font-size: var(--chat-font-size-xs, 11px);
  color: var(--chat-text-tertiary, #6e6e6e);
}
.code-block-actions { display: flex; gap: var(--chat-spacing-xs, 4px); margin-left: auto; }
.code-block-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  border-radius: var(--chat-radius-sm, 4px);
  background: transparent;
  border: none;
  color: var(--chat-text-secondary, #a0a0a0);
  cursor: pointer;
  font-size: var(--chat-font-size-xs, 11px);
  font-family: var(--chat-font-family);
  transition: all var(--chat-transition-fast, 100ms);
}
.code-block-btn:hover { background: var(--chat-bg-hover, #333); color: var(--chat-text-primary, #e0e0e0); }
.code-block-apply { color: var(--chat-success, #52c41a); }
.code-block-apply:hover { background: rgba(82, 196, 26, 0.15); }

.code-block-content {
  overflow-x: auto;
  max-height: 500px;
  overflow-y: auto;
}
.code-block-content pre { margin: 0; padding: 0; }
.code-block-content code { display: block; padding: var(--chat-spacing-sm, 8px) 0; }

.code-line {
  display: flex;
  line-height: var(--chat-line-height-code, 1.5);
  padding: 0 var(--chat-spacing-md, 12px);
}
.code-line:hover { background: var(--chat-bg-hover, #333); }
.line-number {
  flex-shrink: 0;
  width: 40px;
  text-align: right;
  padding-right: var(--chat-spacing-md, 12px);
  color: var(--chat-text-tertiary, #6e6e6e);
  user-select: none;
  border-right: 1px solid var(--chat-code-border, #333);
  margin-right: var(--chat-spacing-md, 12px);
}
.line-content { flex: 1; white-space: pre; }

.code-block-toggle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--chat-spacing-xs, 4px);
  width: 100%;
  padding: var(--chat-spacing-sm, 8px);
  background: var(--chat-code-header, #252526);
  border: none;
  border-top: 1px solid var(--chat-code-border, #333);
  color: var(--chat-text-secondary, #a0a0a0);
  cursor: pointer;
  font-size: var(--chat-font-size-xs, 11px);
  font-family: var(--chat-font-family);
  transition: all var(--chat-transition-fast, 100ms);
}
.code-block-toggle:hover { background: var(--chat-bg-hover, #333); color: var(--chat-text-primary, #e0e0e0); }

/* === Diff 样式 === */
.code-block--diff .diff-add { background: rgba(46, 160, 67, 0.15); }
.code-block--diff .diff-add .line-content { color: #3fb950; }
.code-block--diff .diff-del { background: rgba(248, 81, 73, 0.15); }
.code-block--diff .diff-del .line-content { color: #f85149; }
.code-block--diff .diff-info { background: rgba(56, 139, 253, 0.1); }
.code-block--diff .diff-info .line-content { color: #58a6ff; }

/* === 语法高亮 === */
.syntax-keyword { color: #c586c0; }
.syntax-string { color: #ce9178; }
.syntax-number { color: #b5cea8; }
.syntax-comment { color: #6a9955; font-style: italic; }
.syntax-function { color: #dcdcaa; }
.syntax-variable { color: #9cdcfe; }
.syntax-operator { color: #d4d4d4; }

/* === Callout 提示块 === */
.callout {
  display: flex;
  gap: var(--chat-spacing-md, 12px);
  padding: var(--chat-spacing-md, 12px);
  margin: var(--chat-block-gap, 12px) 0;
  border-radius: var(--chat-radius-md, 6px);
  border-left: 4px solid;
}
.callout-icon { flex-shrink: 0; }
.callout-content { flex: 1; }

.callout--info { background: var(--chat-callout-info-bg); border-color: var(--chat-callout-info-border); color: var(--chat-callout-info-text); }
.callout--warning { background: var(--chat-callout-warn-bg); border-color: var(--chat-callout-warn-border); color: var(--chat-callout-warn-text); }
.callout--error { background: var(--chat-callout-error-bg); border-color: var(--chat-callout-error-border); color: var(--chat-callout-error-text); }
.callout--success { background: var(--chat-callout-success-bg); border-color: var(--chat-callout-success-border); color: var(--chat-callout-success-text); }
.callout--tip { background: var(--chat-callout-info-bg); border-color: var(--chat-accent); color: var(--chat-callout-info-text); }

/* === 表格 === */
.md-table-wrapper {
  overflow-x: auto;
  margin: var(--chat-block-gap, 12px) 0;
  border-radius: var(--chat-radius-md, 6px);
  border: 1px solid var(--chat-border, #3c3c3c);
}
.md-table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--chat-font-size-sm, 12px);
}
.md-table th, .md-table td {
  padding: var(--chat-spacing-sm, 8px) var(--chat-spacing-md, 12px);
  text-align: left;
  border-bottom: 1px solid var(--chat-border, #3c3c3c);
}
.md-table th { background: var(--chat-bg-tertiary, #2d2d30); font-weight: 600; color: var(--chat-text-primary, #e0e0e0); }
.md-table tr:hover td { background: var(--chat-bg-hover, #333); }
.md-table tr:last-child td { border-bottom: none; }

/* === 强调文本 === */
.markdown-content strong { font-weight: 600; color: var(--chat-text-primary, #e0e0e0); }
.markdown-content em { font-style: italic; }
.markdown-content del { text-decoration: line-through; color: var(--chat-text-tertiary, #6e6e6e); }
